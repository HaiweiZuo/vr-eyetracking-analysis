{"ast":null,"code":"import { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\n\n// 应用全局状态管理\nconst useAppStore = create(devtools((set, get) => ({\n  // 应用状态\n  currentView: 'visualization',\n  currentLanguage: 'zh',\n  sidebarExpanded: false,\n  // 数据状态\n  allData: {},\n  currentGroup: 'all',\n  currentQuestion: 'all',\n  currentVisualization: null,\n  groupsData: null,\n  // 加载状态\n  isLoading: false,\n  error: null,\n  // Actions\n  setCurrentView: view => set({\n    currentView: view\n  }),\n  setCurrentLanguage: language => set({\n    currentLanguage: language\n  }),\n  setSidebarExpanded: expanded => set({\n    sidebarExpanded: expanded\n  }),\n  toggleSidebar: () => set(state => ({\n    sidebarExpanded: !state.sidebarExpanded\n  })),\n  setCurrentGroup: group => set({\n    currentGroup: group\n  }),\n  setCurrentQuestion: question => set({\n    currentQuestion: question\n  }),\n  setCurrentVisualization: visualization => set({\n    currentVisualization: visualization\n  }),\n  setAllData: data => set({\n    allData: data\n  }),\n  updateGroupData: (groupType, data) => set(state => ({\n    allData: {\n      ...state.allData,\n      [groupType]: data\n    }\n  })),\n  setGroupsData: data => set({\n    groupsData: data\n  }),\n  setLoading: loading => set({\n    isLoading: loading\n  }),\n  setError: error => set({\n    error\n  }),\n  clearError: () => set({\n    error: null\n  }),\n  // 重置所有状态\n  resetState: () => set({\n    allData: {},\n    currentGroup: 'all',\n    currentQuestion: 'all',\n    currentVisualization: null,\n    groupsData: null,\n    isLoading: false,\n    error: null\n  }),\n  // 获取过滤后的数据\n  getFilteredData: () => {\n    const state = get();\n    let filteredData = [];\n    if (state.currentGroup === 'all') {\n      Object.values(state.allData).forEach(groupData => {\n        filteredData = filteredData.concat(groupData);\n      });\n    } else {\n      filteredData = state.allData[state.currentGroup] || [];\n    }\n    if (state.currentQuestion !== 'all') {\n      filteredData = filteredData.filter(item => item.question_num == state.currentQuestion);\n    }\n    return filteredData;\n  },\n  // 获取组统计信息\n  getGroupStats: () => {\n    var _state$groupsData$con, _state$groupsData$mci, _state$groupsData$ad, _state$groupsData$con2, _state$groupsData$mci2, _state$groupsData$ad2;\n    const state = get();\n    if (!state.groupsData) return null;\n    return {\n      control: ((_state$groupsData$con = state.groupsData.control) === null || _state$groupsData$con === void 0 ? void 0 : _state$groupsData$con.data_count) || 0,\n      mci: ((_state$groupsData$mci = state.groupsData.mci) === null || _state$groupsData$mci === void 0 ? void 0 : _state$groupsData$mci.data_count) || 0,\n      ad: ((_state$groupsData$ad = state.groupsData.ad) === null || _state$groupsData$ad === void 0 ? void 0 : _state$groupsData$ad.data_count) || 0,\n      total: (((_state$groupsData$con2 = state.groupsData.control) === null || _state$groupsData$con2 === void 0 ? void 0 : _state$groupsData$con2.data_count) || 0) + (((_state$groupsData$mci2 = state.groupsData.mci) === null || _state$groupsData$mci2 === void 0 ? void 0 : _state$groupsData$mci2.data_count) || 0) + (((_state$groupsData$ad2 = state.groupsData.ad) === null || _state$groupsData$ad2 === void 0 ? void 0 : _state$groupsData$ad2.data_count) || 0)\n    };\n  }\n}), {\n  name: 'vr-eyetracking-store'\n}));\nexport default useAppStore;","map":{"version":3,"names":["create","devtools","useAppStore","set","get","currentView","currentLanguage","sidebarExpanded","allData","currentGroup","currentQuestion","currentVisualization","groupsData","isLoading","error","setCurrentView","view","setCurrentLanguage","language","setSidebarExpanded","expanded","toggleSidebar","state","setCurrentGroup","group","setCurrentQuestion","question","setCurrentVisualization","visualization","setAllData","data","updateGroupData","groupType","setGroupsData","setLoading","loading","setError","clearError","resetState","getFilteredData","filteredData","Object","values","forEach","groupData","concat","filter","item","question_num","getGroupStats","_state$groupsData$con","_state$groupsData$mci","_state$groupsData$ad","_state$groupsData$con2","_state$groupsData$mci2","_state$groupsData$ad2","control","data_count","mci","ad","total","name"],"sources":["C:/Users/asino/Downloads/az - 副本 (11)/frontend/src/store/useAppStore.js"],"sourcesContent":["import { create } from 'zustand';\r\nimport { devtools } from 'zustand/middleware';\r\n\r\n// 应用全局状态管理\r\nconst useAppStore = create(\r\n  devtools(\r\n    (set, get) => ({\r\n      // 应用状态\r\n      currentView: 'visualization',\r\n      currentLanguage: 'zh',\r\n      sidebarExpanded: false,\r\n      \r\n      // 数据状态\r\n      allData: {},\r\n      currentGroup: 'all',\r\n      currentQuestion: 'all',\r\n      currentVisualization: null,\r\n      groupsData: null,\r\n      \r\n      // 加载状态\r\n      isLoading: false,\r\n      error: null,\r\n      \r\n      // Actions\r\n      setCurrentView: (view) => set({ currentView: view }),\r\n      \r\n      setCurrentLanguage: (language) => set({ currentLanguage: language }),\r\n      \r\n      setSidebarExpanded: (expanded) => set({ sidebarExpanded: expanded }),\r\n      \r\n      toggleSidebar: () => set((state) => ({ \r\n        sidebarExpanded: !state.sidebarExpanded \r\n      })),\r\n      \r\n      setCurrentGroup: (group) => set({ currentGroup: group }),\r\n      \r\n      setCurrentQuestion: (question) => set({ currentQuestion: question }),\r\n      \r\n      setCurrentVisualization: (visualization) => set({ \r\n        currentVisualization: visualization \r\n      }),\r\n      \r\n      setAllData: (data) => set({ allData: data }),\r\n      \r\n      updateGroupData: (groupType, data) => set((state) => ({\r\n        allData: {\r\n          ...state.allData,\r\n          [groupType]: data\r\n        }\r\n      })),\r\n      \r\n      setGroupsData: (data) => set({ groupsData: data }),\r\n      \r\n      setLoading: (loading) => set({ isLoading: loading }),\r\n      \r\n      setError: (error) => set({ error }),\r\n      \r\n      clearError: () => set({ error: null }),\r\n      \r\n      // 重置所有状态\r\n      resetState: () => set({\r\n        allData: {},\r\n        currentGroup: 'all',\r\n        currentQuestion: 'all',\r\n        currentVisualization: null,\r\n        groupsData: null,\r\n        isLoading: false,\r\n        error: null,\r\n      }),\r\n      \r\n      // 获取过滤后的数据\r\n      getFilteredData: () => {\r\n        const state = get();\r\n        let filteredData = [];\r\n        \r\n        if (state.currentGroup === 'all') {\r\n          Object.values(state.allData).forEach(groupData => {\r\n            filteredData = filteredData.concat(groupData);\r\n          });\r\n        } else {\r\n          filteredData = state.allData[state.currentGroup] || [];\r\n        }\r\n        \r\n        if (state.currentQuestion !== 'all') {\r\n          filteredData = filteredData.filter(\r\n            item => item.question_num == state.currentQuestion\r\n          );\r\n        }\r\n        \r\n        return filteredData;\r\n      },\r\n      \r\n      // 获取组统计信息\r\n      getGroupStats: () => {\r\n        const state = get();\r\n        if (!state.groupsData) return null;\r\n        \r\n        return {\r\n          control: state.groupsData.control?.data_count || 0,\r\n          mci: state.groupsData.mci?.data_count || 0,\r\n          ad: state.groupsData.ad?.data_count || 0,\r\n          total: (state.groupsData.control?.data_count || 0) + \r\n                 (state.groupsData.mci?.data_count || 0) + \r\n                 (state.groupsData.ad?.data_count || 0)\r\n        };\r\n      }\r\n    }),\r\n    {\r\n      name: 'vr-eyetracking-store',\r\n    }\r\n  )\r\n);\r\n\r\nexport default useAppStore;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}