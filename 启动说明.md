# VR眼球追踪数据可视化平台 - 启动说明

## 🚀 快速启动指南

现在您有两个版本可以选择：

### 版本对比

| 版本 | 技术栈 | 端口 | 特点 |
|------|--------|------|------|
| **原版本** | HTML/JS | 8080 | 功能完整，单文件 |
| **React版本** | React 18 | 3000 → 8080 | 现代化，组件化 |

## 🎯 启动React版本 (推荐)

### 步骤1: 启动后端API服务器

```bash
# 方法1: 使用启动脚本 (推荐)
python start_server.py

# 方法2: 使用批处理文件 (Windows)
启动服务器.bat

# 方法3: 直接运行Flask应用
cd visualization
python enhanced_web_visualizer.py
```

后端启动成功后，您会看到：
```
🌐 VR眼动数据分析系统
==================================================
🌐 启动Web可视化服务器
📍 地址: http://127.0.0.1:8080
🎨 功能: 眼动轨迹可视化、ROI分析、三组数据对比
==================================================
```

### 步骤2: 启动React前端

```bash
# 新开一个终端窗口
cd frontend

# 安装依赖 (仅首次运行需要)
npm install

# 启动React开发服务器
npm start
```

React启动成功后，会自动打开 `http://localhost:3000`

### 步骤3: 验证连接

- ✅ React前端: http://localhost:3000
- ✅ Flask后端: http://localhost:8080
- ✅ API自动代理: 3000 → 8080

## 🔧 原版本启动 (备选)

如果您想使用原版本：

```bash
# 方法1: 使用启动脚本
python start_server.py

# 方法2: 使用批处理文件
启动服务器.bat
```

然后访问：http://localhost:8080

## 🛠️ 故障排除

### 问题1: "ERR_CONNECTION_REFUSED"
**原因**: 后端服务器未启动
**解决**: 运行 `python start_server.py`

### 问题2: "Address already in use"
**原因**: 8080端口被占用
**解决**: 
```bash
# 查找占用端口的进程
netstat -ano | findstr :8080

# 杀死进程 (Windows)
taskkill /PID <进程ID> /F
```

### 问题3: 依赖缺失
**原因**: Python依赖未安装
**解决**:
```bash
pip install -r requirements.txt
```

### 问题4: React依赖缺失
**原因**: Node.js依赖未安装
**解决**:
```bash
cd frontend
npm install
```

## 📊 功能对比

### React版本 (现代化)
- ✅ 组件化架构
- ✅ 热重载开发
- ✅ 现代UI/UX
- ✅ 状态管理
- ✅ 响应式设计
- 🚧 部分功能开发中

### 原版本 (功能完整)
- ✅ 所有功能完整
- ✅ 稳定可靠
- ✅ 即时可用
- ❌ 开发效率较低
- ❌ 维护困难

## 🎯 推荐使用方式

1. **开发新功能**: 使用React版本
2. **稳定使用**: 使用原版本
3. **功能测试**: 两版本对比验证

## 🆘 需要帮助？

如果遇到问题：
1. 检查Python环境 (推荐Python 3.8+)
2. 检查Node.js环境 (推荐Node.js 16+)
3. 确认依赖安装完整
4. 查看控制台错误信息

---

**快速启动命令总结**:
```bash
# Terminal 1: 启动后端
python start_server.py

# Terminal 2: 启动React前端
cd frontend && npm start
```